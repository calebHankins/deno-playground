// For format details, see https://aka.ms/vscode-remote/devcontainer.json
{
    "name": "node-playground",
    "dockerFile": "Dockerfile",
    "appPort": [

    ],
    "extensions": [
        "eamodio.gitlens",
        "editorconfig.editorconfig",
        "ms-azuretools.vscode-docker",
        "ms-vscode.vscode-typescript-tslint-plugin",
        "streetsidesoftware.code-spell-checker",
        "ms-vscode-remote.vscode-remote-extensionpack",
        "mhutchie.git-graph",
        "yzhang.markdown-all-in-one",
        "mutantdino.resourcemonitor",
        "bierner.emojisense",
        "hookyqr.beautify",
        "wallabyjs.quokka-vscode",
        "sketchbuch.vsc-quokka-statusbar"
    ],
    "settings": {
        "remote.extensionKind": {
            // switch docker to use the 'ui' mode so it runs outside of the container.
            // https://github.com/microsoft/vscode-docker/wiki/Docker-in-a-Dev-Container#option-b-docker-as-a-ui-extension
            "ms-azuretools.vscode-docker": "ui"
        }
    },
    "runArgs": [
        // let's load our modules into a persistent volume for performance and to alleviate any OS specific issue
        "-v",
        "node-playground-node_modules:/workspaces/node-playground/node_modules",
        // mount the ssh key info so we can post to github and whatnot
        // Source: https://code.visualstudio.com/docs/remote/containers-advanced#_adding-another-local-file-mount
        "-v",
        "${env:HOME}${env:USERPROFILE}/.ssh/id_rsa/:/root/.ssh/id_rsa",
        "-v",
        "${env:HOME}${env:USERPROFILE}/.ssh/known_hosts/:/root/.ssh/known_hosts",
        "-v",
        "${env:HOME}${env:USERPROFILE}/.ssh/authorized_keys/:/root/.ssh/authorized_keys"
    ],
    "mounts": [
        "node-playground-extensions,target=/root/.vscode-server/extensions,type=volume",
        // And/or for VS Code Insiders
        "node-playground-extensions-insiders,target=/root/.vscode-server-insiders/extensions,type=volume",
    ]
}
